use crate::domain::entities::Task;
use crate::domain::repository::TaskRepository;
use chrono::Utc;

pub fn handle_add<R: TaskRepository>(repo: &mut R, title: String, description: Option<String>) {
    let id = Utc::now().timestamp_millis() as u64;
    let task = Task::new(id, title, description);
    repo.add(task).expect("Failed to add task");
}

pub fn handle_list<R: TaskRepository>(repo: &R) {
    let tasks = repo.all().expect("Failed to fetch tasks");
    for task in tasks {
        println!("[{}] {} - {}", task.id, task.title, if task.completed { "Done" } else { "Pending" });
    }
}// Telemetry update recorded at Sun Jun 29 22:32:05 UTC 2025
// @1751239368 [Rg05AQNXQ3PT]
// @1751239674 [9XTopIHMTqs8]
// @1751241407 [o4JdBTLsaE3d]
// @1751241894 [MFbkB4IUo8qv]
// @1751253636 [2192HEUh653s]
// @1751340332 [z4BAUpwa5L4E]
// @1751598844 [AzQOnquO2LzA]
// @1752031075 [COi9iScuSwRt]
// @1752117454 [PyeFkPQbJaet]
// @1752204184 [45OtrYzEWQgE]
// @1752722589 [DlDsNx6hPS6Q]
// @1752809081 [pOSxj1F1EF2R]
// @1752895106 [6LQPeSnjuct6]
// @1753069183 [3hpI1yXNZzKz]
// @1753154678 [KSowGoVDvBQC]
// @1753241182 [aIbhoHFNSrxl]
// @1753327480 [z6v1UVWIUnlR]
// @1753413881 [IHUB9gp9gNkv]
// @1753500095 [Q5ox7JPgn1Ca]
// @1753641161 [GzsJVL77uOTU]
// @1753650888 [qWXVflzVOmaw]
// @1753663908 [GJf9WoARV5Jt]
// @1753684652 [k4AH4AeCpppn]
// @1753694335 [Hm346xu4yMnA]
// @1753716179 [lmupw9aBDBq3]
// @1753727830 [50qC00BMHlSh]
// @1753750373 [MyQdWCSShi0X]
// @1753761987 [hDCFnNd87oIE]
// @1753770963 [wkSxVGPYBpg9]
// @1753780620 [D8YUT9k0XbC3]
// @1753802641 [hmkVivIx29Ig]
// @1753823749 [e3WySshajZ8o]
// @1753836470 [kETtgdNuyGKJ]
// @1753848215 [xMCYxS7JC6GW]
// @1753857430 [g3AwaHOLQuZb]
// @1753867112 [bgswzkRPyW1f]
// @1753880219 [Gg45HGC4HwjV]
// @1753888947 [xxMuEXJFQixP]
// @1753900586 [hqUxnBsj3Tgm]
// @1753910154 [JqltcBphVkRn]
// @1753922854 [0p39ZAkOSP7j]
// @1753934557 [odpLvddc7wcn]
// @1753943757 [yjdLWOl4CDAS]
// @1753953468 [IagrK12oUPAc]
// @1753975340 [foBBv5Glco1U]
// @1753986994 [ml8W3LvOOpXz]
// @1753996549 [ViVxPt4P2fWr]
// @1754030228 [VSwjCfGTCMbM]
// @1754039812 [drtcA1Bs17tI]
// @1754073342 [QV5avziOGpnl]
// @1754095490 [bvtQ8V3nFNaP]
// @1754106914 [LUMinWCXlCo8]
// @1754116332 [KM2MyoqMWKf9]
// @1754139067 [FuRAN4FBWQTg]
// @1754147971 [D4AXdMJZYx2o]
// @1754159608 [O3wDS283XLsR]
// @1754182424 [eJlLwkStwupd]
// @1754212282 [OftprTIwyL0b]
// @1754225643 [yleXlMPtguxW]
// @1754268798 [HoPSeB7JrifP]
// @1754280866 [uGGemkkaW6k2]
// @1754289696 [ilFYn7xUcZ9b]
// @1754321013 [IQnWisqMbdnE]
// @1754332652 [8rYzmzPCu5xE]
// @1754354966 [RHGz5q5GW4Tf]
// @1754375852 [i9eKebwY3fsu]
// @1754385513 [mdnkrVNnAStZ]
// @1754398697 [7xI98xjRbISM]
// @1754419126 [Kn98usDdjVcE]
// @1754428575 [3g9falS91IJE]
// @1754441302 [pCZFXgvAXAJ3]
// @1754462258 [rslZCLJaMBbq]
// @1754471936 [4RPb4BQsTyii]
// @1754493826 [8nUZ9DfshHRY]
// @1754505359 [z0I4CMhFUQA6]
// @1754548651 [JLdUYhjfaZ69]
// @1754571453 [IJVeaahJisim]
// @1754591881 [ioLc3bs4Dw2d]
// @1754601269 [Dxan5xad4CFa]
// @1754614104 [AM5Na0jZVNe8]
// @1754625849 [sw2ngg0nLflD]
// @1754644661 [G2lvtQGKqO25]
// @1754657789 [7X34o67rFQQG]
// @1754678027 [Ug0d8AKtYVIS]
// @1754711383 [zcKBDiH4agZl]
// @1754743815 [UHS5PgSq5Nfp]
// @1754764354 [TfbtC6wvfNdO]
// @1754774045 [eCNErK9jRPJI]
// @1754817086 [n7NJ3GSQjlWT]
// @1754830247 [K9E7xzGH16oe]
// @1754873414 [5t7uTtWDKvaU]
// @1754885037 [e9FVaFK3bve5]
