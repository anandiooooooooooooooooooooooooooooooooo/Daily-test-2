use crate::domain::entities::Task;
use crate::domain::repository::TaskRepository;
use chrono::Utc;

pub fn handle_add<R: TaskRepository>(repo: &mut R, title: String, description: Option<String>) {
    let id = Utc::now().timestamp_millis() as u64;
    let task = Task::new(id, title, description);
    repo.add(task).expect("Failed to add task");
}

pub fn handle_list<R: TaskRepository>(repo: &R) {
    let tasks = repo.all().expect("Failed to fetch tasks");
    for task in tasks {
        println!("[{}] {} - {}", task.id, task.title, if task.completed { "Done" } else { "Pending" });
    }
}// Telemetry update recorded at Sun Jun 29 22:32:05 UTC 2025
// @1751239368 [Rg05AQNXQ3PT]
// @1751239674 [9XTopIHMTqs8]
// @1751241407 [o4JdBTLsaE3d]
// @1751241894 [MFbkB4IUo8qv]
// @1751253636 [2192HEUh653s]
// @1751340332 [z4BAUpwa5L4E]
// @1751598844 [AzQOnquO2LzA]
// @1752031075 [COi9iScuSwRt]
// @1752117454 [PyeFkPQbJaet]
// @1752204184 [45OtrYzEWQgE]
// @1752722589 [DlDsNx6hPS6Q]
// @1752809081 [pOSxj1F1EF2R]
// @1752895106 [6LQPeSnjuct6]
// @1753069183 [3hpI1yXNZzKz]
// @1753154678 [KSowGoVDvBQC]
// @1753241182 [aIbhoHFNSrxl]
// @1753327480 [z6v1UVWIUnlR]
// @1753413881 [IHUB9gp9gNkv]
// @1753500095 [Q5ox7JPgn1Ca]
// @1753641161 [GzsJVL77uOTU]
// @1753650888 [qWXVflzVOmaw]
// @1753663908 [GJf9WoARV5Jt]
// @1753684652 [k4AH4AeCpppn]
// @1753694335 [Hm346xu4yMnA]
// @1753716179 [lmupw9aBDBq3]
// @1753727830 [50qC00BMHlSh]
// @1753750373 [MyQdWCSShi0X]
// @1753761987 [hDCFnNd87oIE]
// @1753770963 [wkSxVGPYBpg9]
// @1753780620 [D8YUT9k0XbC3]
// @1753802641 [hmkVivIx29Ig]
// @1753823749 [e3WySshajZ8o]
// @1753836470 [kETtgdNuyGKJ]
// @1753848215 [xMCYxS7JC6GW]
// @1753857430 [g3AwaHOLQuZb]
// @1753867112 [bgswzkRPyW1f]
// @1753880219 [Gg45HGC4HwjV]
// @1753888947 [xxMuEXJFQixP]
// @1753900586 [hqUxnBsj3Tgm]
// @1753910154 [JqltcBphVkRn]
// @1753922854 [0p39ZAkOSP7j]
// @1753934557 [odpLvddc7wcn]
// @1753943757 [yjdLWOl4CDAS]
// @1753953468 [IagrK12oUPAc]
// @1753975340 [foBBv5Glco1U]
// @1753986994 [ml8W3LvOOpXz]
// @1753996549 [ViVxPt4P2fWr]
// @1754030228 [VSwjCfGTCMbM]
// @1754039812 [drtcA1Bs17tI]
// @1754073342 [QV5avziOGpnl]
// @1754095490 [bvtQ8V3nFNaP]
// @1754106914 [LUMinWCXlCo8]
// @1754116332 [KM2MyoqMWKf9]
// @1754139067 [FuRAN4FBWQTg]
// @1754147971 [D4AXdMJZYx2o]
// @1754159608 [O3wDS283XLsR]
// @1754182424 [eJlLwkStwupd]
// @1754212282 [OftprTIwyL0b]
// @1754225643 [yleXlMPtguxW]
// @1754268798 [HoPSeB7JrifP]
// @1754280866 [uGGemkkaW6k2]
// @1754289696 [ilFYn7xUcZ9b]
// @1754321013 [IQnWisqMbdnE]
// @1754332652 [8rYzmzPCu5xE]
// @1754354966 [RHGz5q5GW4Tf]
// @1754375852 [i9eKebwY3fsu]
// @1754385513 [mdnkrVNnAStZ]
// @1754398697 [7xI98xjRbISM]
// @1754419126 [Kn98usDdjVcE]
// @1754428575 [3g9falS91IJE]
// @1754441302 [pCZFXgvAXAJ3]
// @1754462258 [rslZCLJaMBbq]
// @1754471936 [4RPb4BQsTyii]
// @1754493826 [8nUZ9DfshHRY]
// @1754505359 [z0I4CMhFUQA6]
// @1754548651 [JLdUYhjfaZ69]
// @1754571453 [IJVeaahJisim]
// @1754591881 [ioLc3bs4Dw2d]
// @1754601269 [Dxan5xad4CFa]
// @1754614104 [AM5Na0jZVNe8]
// @1754625849 [sw2ngg0nLflD]
// @1754644661 [G2lvtQGKqO25]
// @1754657789 [7X34o67rFQQG]
// @1754678027 [Ug0d8AKtYVIS]
// @1754711383 [zcKBDiH4agZl]
// @1754743815 [UHS5PgSq5Nfp]
// @1754764354 [TfbtC6wvfNdO]
// @1754774045 [eCNErK9jRPJI]
// @1754817086 [n7NJ3GSQjlWT]
// @1754830247 [K9E7xzGH16oe]
// @1754873414 [5t7uTtWDKvaU]
// @1754885037 [e9FVaFK3bve5]
// @1754894225 [Nu3cUQGjJrws]
// @1754903848 [BBt6GtowhDEm]
// @1754925728 [K46YUqAGRZ5k]
// @1754937381 [KeSie6t3PAba]
// @1754980461 [DSmbwf3sev44]
// @1754990029 [3HAmytp2Ct0Q]
// @1755003185 [pvSSEqBaIhGY]
// @1755012089 [FHHGYbsR5ulC]
// @1755023714 [RKjdqpOVwdZ9]
// @1755033303 [aaJu3VnBGTkx]
// @1755045872 [ONe9jSaKXpbb]
// @1755057015 [TvC0MROWJVtp]
// @1755066857 [NPfICgIjuVAy]
// @1755076444 [QIv3ApXLLpUq]
// @1755098281 [YnwmFWw0H5Xv]
// @1755110006 [0NZDLnLuZ9s5]
// @1755119675 [pXTU3oUoBeGe]
// @1755132255 [PSjpnUqygGSh]
// @1755143450 [otrF69irZmTj]
// @1755162865 [myRGf3q1ZY70]
// @1755176087 [sgiilol6T8kr]
// @1755184854 [3TgKzcZM457V]
// @1755196487 [A6RXWZ67dZgm]
// @1755229873 [82ALcYwdGPbm]
// @1755239637 [Uh4k8NyNYKdM]
// @1755282848 [sjcbuowfyZAN]
// @1755315880 [saxD3fReaNgs]
// @1755335463 [lnO3xkXrRSdp]
// @1755348525 [9gztov0vIe8H]
// @1755369012 [2rcC5erS1SNE]
// @1755378829 [xyrwcrNfxZrz]
// @1755391753 [cP83WHH8afS3]
// @1755421840 [LYfCJ5qtWkqp]
// @1755455502 [322EwKXaXCqW]
// @1755478136 [wKfDlQ0wr9ng]
// @1755489596 [7Hh4JztG6aNu]
// @1755508586 [b4JGi8b4t4pJ]
// @1755530513 [hsxMYrfzQ3lO]
// @1755551610 [4pwVuTl7ZTKR]
// @1755574859 [CCPK9avmdLFD]
// @1755607745 [i9IqDUdVi8ln]
// @1755661173 [T4cW3mFtjw5A]
// @1755703229 [DZVm8mukboa1]
// @1755724443 [xrcpsCCgPZfS]
// @1755758470 [S2zl2bUmhBiM]
// @1755767511 [S21JvM1ZEqdr]
// @1755810825 [f95Wp64AZ2LT]
// @1755823294 [eBkctB28cROO]
// @1755853914 [jZ5fBh7GoLcP]
// @1755866962 [vKJqL6kyy8ZP]
// @1755875937 [2I3i20hzx2dL]
// @1755897205 [f0yikwhzDJ0x]
// @1755909584 [P2ynYrqEIfCt]
// @1755920045 [ng4cuj16KDEQ]
// @1755953104 [QdjKkt0nvoTq]
// @1755962188 [O5CmoE8xcP7h]
// @1755973723 [ZHVQF86AvN0Y]
// @1755996415 [FUwfUObB4VE5]
// @1756007208 [QPYa84H2S0Ei]
// @1756039549 [yTIYAp1rxVBA]
// @1756082608 [ZAzim4B6VCtC]
// @1756093578 [A73GhLnv2e3X]
// @1756126304 [Q8bEwIn1giSn]
// @1756135209 [MeuG58PKNfYS]
// @1756146786 [GzRZ7dFdaBso]
// @1756156428 [ZLYn1PnxoAEn]
// @1756190002 [g6PNCxnCPoEM]
// @1756199529 [kacn9tDzNIuS]
// @1756212786 [84NJjsbAKAMC]
// @1756242797 [Hl96jGkjLJiM]
// @1756255252 [3vhmY5VMh0ty]
// @1756276244 [MYaYHZnnnwai]
// @1756285891 [9dRmltvsknRI]
// @1756298969 [gKEfjNA49JqB]
// @1756307960 [9feIocHtaf35]
// @1756319421 [YTthAmZvK7LT]
// @1756329229 [rfO0tgUu4Bod]
// @1756341616 [1H7gO5ZgNrmK]
// @1756362719 [vJiqi8VGpSbx]
// @1756372294 [y1ttUV0bmSYr]
// @1756385362 [Ca3wbBGaGP0I]
// @1756394355 [dTHHhpJUbGVN]
// @1756405895 [DtwqBVlyq4jO]
// @1756415608 [NT6bk68HwfQz]
// @1756428036 [y2lWwYQw3CPz]
// @1756471710 [4yiihgqhm7P4]
// @1756480587 [1bAKwum7sZLM]
// @1756501983 [AcPGFl2L3e89]
// @1756514292 [G13D06RkifNY]
// @1756524508 [BOjijwY546k6]
// @1756535251 [ToTUTVgVR3vU]
// @1756566973 [aDBwhlMwlzWU]
// @1756588342 [1Rrn6zJnMQlX]
// @1756601042 [9tc6D0nGWSza]
// @1756621733 [XStNUPeyWgZP]
// @1756644212 [L3BtdE0KeUNP]
// @1756698614 [wulKa2oeCRlT]
// @1756708468 [EUvWZMm3NvXS]
// @1756718019 [0ETCI4UEZhBe]
// @1756731061 [9yEAASUQVoUe]
// @1756751403 [48lQSPX2v3EA]
// @1756761156 [6tLlC8KZgusK]
// @1756773656 [wxgT6FPoGx46]
// @1756784258 [LlcalwHRIZWY]
// @1756817440 [bLHgdGZZUYX3]
// @1756826376 [wDA5o9cd5b90]
// @1756847561 [xsmN8cmmGTW4]
// @1756859901 [IbA4oHTGCVdC]
// @1756869977 [DKrnzOQBs7Nm]
// @1756880981 [8lLSaZtbkJkr]
// @1756890653 [rgD7ve0awjAR]
// @1756903690 [BQrO2Ds9GI5d]
// @1756912775 [rkdj0o1a45xx]
// @1756924222 [YCL3lyD6gFBD]
// @1756933975 [HIM8ENrjDezz]
// @1756967414 [W74wMTTKYKZ9]
// @1756977085 [3W4ygwcyQhOq]
// @1756999130 [HJNiUJfrdOP4]
// @1757010627 [rYPjGD9rj0Ku]
// @1757053839 [9LjFTlLbQdEB]
// @1757096917 [kuHjSl72anmD]
// @1757106791 [91cK3tdBfgFy]
// @1757129120 [64ByWS6OXOiR]
// @1757140025 [YxEx5YTZMpRD]
// @1757162448 [d3QjCbqiPaa0]
// @1757183195 [MplD975ekf84]
// @1757193099 [nJxEtcvI7zxV]
// @1757226469 [a2cTe1a40qzl]
// @1757236175 [OlmboSrREWIs]
// @1757248921 [ww3u3rqg6z7C]
// @1757313143 [2AcHuJgEkurd]
// @1757322808 [Za0Pi2i2Bdyq]
// @1757344684 [VnrVYstdKxsA]
// @1757356318 [FRxWKgDAIvwV]
// @1757366000 [DI3qh6J8Aplq]
// @1757378413 [WIUOnpJEfJpt]
// @1757409120 [VYNxW7e89jya]
// @1757422297 [ARCLjHlmNeeK]
// @1757431216 [ZFS8JbNEwMPc]
// @1757442475 [i8UDfsD0dLAp]
// @1757452353 [TXXiuScujNXz]
// @1757474777 [QEBWrlVif8AP]
// @1757485845 [9q6gEVqxeLIn]
// @1757529074 [kgrhsZdtmJuj]
// @1757538770 [OHrARCrtPUQ0]
// @1757551187 [FEXUh0DJJsxh]
// @1757561465 [ckC3EcikZsr2]
// @1757572272 [YEvAt9lhi1yc]
// @1757581850 [MsofDUzc11a9]
// @1757594826 [3JOsbTQqwEFN]
// @1757603850 [oMzdK1VRzpZD]
// @1757658645 [9oO6smpWKDVb]
// @1757668238 [GsXOaEjtLwbI]
// @1757681167 [pgzWzoqTDn27]
// @1757701629 [J581kiOFCJcL]
// @1757711532 [LOWfuzpdWemP]
// @1757723811 [pkQdW9ZvIP1H]
// @1757744823 [yZFd7rKNfRcy]
// @1757754567 [Ya3VCz8nDLJI]
// @1757767273 [Tvkn1QBfs4JF]
// @1757810566 [FgCDx3rbcbcd]
// @1757831276 [9dj8hUymXvco]
// @1757840978 [eHuvfXnHftmM]
// @1757862916 [GXWm2txrifUo]
// @1757874410 [UHkuZplXuAez]
// @1757896991 [hdgwK2cFbhrX]
// @1757907518 [X3mFNfowl0Cd]
// @1757927598 [MWXlYF9tGBij]
// @1757961075 [D9Oh4C67YfDj]
// @1757970771 [gJmw0uQOynCe]
// @1757983137 [mcNxOZhb0ESI]
// @1757993270 [XkyAMUBUVCM4]
// @1758004291 [IFlCypwnapvI]
// @1758026969 [CSfBFDrNRLk8]
// @1758035982 [E6N3eCYKcxsD]
// @1758047456 [TFhdM7l97CUb]
// @1758057167 [95RsAktgUbae]
// @1758079612 [KjQsbIfmcmXo]
// @1758100299 [RK3ixsMPnivx]
// @1758113385 [uQRQaKUscvfa]
// @1758133868 [uUJbuOWvqQYE]
// @1758143548 [x9W5t6XMd4Mz]
// @1758166161 [HKpRtGyCawwh]
// @1758177066 [WuMDqWru8aJ4]
// @1758199716 [cXothvhFjAm2]
// @1758208753 [D76jONKzEJu5]
// @1758229991 [8Gk3g0Bmza3P]
// @1758273126 [WEOaKfSMWwXM]
// @1758316364 [hWzPXrGPzIWd]
// @1758338785 [HjPJuAKWD1xm]
// @1758349686 [FulWcuKi3HBS]
// @1758359400 [p7daKwIdsId8]
// @1758372201 [m1SF89Vxuwfj]
// @1758392820 [2XQHi3sTh3js]
// @1758402685 [bFZTanVoCNfG]
// @1758425832 [iTUbypVbvG7V]
// @1758445773 [4SrvbUOZxMB0]
// @1758458558 [nMi1n5CdaJ3v]
// @1758467753 [HOcQFH9cxgno]
// @1758501815 [84nUuWTFvwz3]
// @1758512256 [aupROXp3gQXx]
// @1758522779 [s3OiHlB3WD99]
// @1758532423 [GFqT7V05D6iv]
// @1758545430 [1GYLKF08S6Eo]
// @1758575576 [oofBtBerBwB3]
// @1758587970 [4pLto1hzaMyT]
// @1758618708 [Lx9HoWfHIV5B]
// @1758631738 [5dIHsblHU2DF]
// @1758640736 [XJSxU8xkzQuc]
// @1758652323 [W4OLucfCBKYl]
// @1758661967 [zjfT0flhfUx3]
// @1758674414 [toYNqfjCRoh3]
// @1758684624 [7YZCLNR0WcAV]
// @1758695476 [d0tJPp89pAPx]
// @1758705124 [0UZGYNTx61ff]
// @1758727131 [jv04hakoyFGN]
// @1758738551 [GpZyarha6hXU]
// @1758748391 [WupKlCpWQwuA]
// @1758760814 [FaIwuQ3T7qBR]
// @1758771160 [RJohspm4r3fQ]
// @1758791509 [JSEeLdD2La1K]
// @1758804650 [3jzc2RRz6r0j]
// @1758825137 [66FZeBkH2knr]
// @1758857440 [HGE0XeQz91pK]
// @1758890969 [jIzfjscbl3G0]
// @1758911351 [nivOhlLEcQ2Q]
// @1758933495 [bv3GjEcSJpm3]
// @1758943587 [wFTWTl37g4rE]
// @1758954422 [xK4NUGtp0arg]
// @1758976915 [Cahqd1CnI7Dy]
// @1758986125 [OpZEcc7tnExx]
// @1758997663 [09PmsBkJEl9D]
// @1759007515 [tcopaFyv0v2y]
// @1759020278 [PYbPDPfDfjL6]
// @1759050578 [FfW3d35zeTc5]
// @1759093918 [3NXqPnPRdn54]
// @1759106497 [XtqdWKSa3iMM]
// @1759116953 [fZD19vUyT5YJ]
// @1759137206 [rd9fjkWuP8mg]
// @1759150301 [x0WGJnukdybl]
// @1759170720 [ykyoNcQWiOiG]
// @1759180356 [lcz5tg0hKNbM]
// @1759192821 [z5ep63qVyPnm]
// @1759223530 [B7ZJgli5cqD5]
