use crate::app::{handle_add, handle_list};
use crate::infrastructure::fs_storage::FileTaskRepo;

pub fn run_cli() {
    let args: Vec<String> = std::env::args().collect();
    let mut repo = FileTaskRepo::new("tasks.json".to_string());
    repo.load_from_file().unwrap();

    match args.get(1).map(String::as_str) {
        Some("add") => {
            let title = args.get(2).cloned().unwrap_or_else(|| "Untitled".to_string());
            let desc = args.get(3).cloned();
            handle_add(&mut repo, title, desc);
        }
        Some("list") => handle_list(&repo),
        _ => println!("Available commands: add <title> [desc], list"),
    }
}// Telemetry update recorded at Sun Jun 29 22:32:05 UTC 2025
// @1751239368 [jwleHZsGkjVm]
// @1751239674 [cZ6gQsSQBD8p]
// @1751241407 [Fh5B4gBZ8Cnr]
// @1751241894 [ojfI1A0hIN6M]
// @1751253636 [6VWFfRnWdDV3]
// @1751340332 [DKJLbYGJ0bfq]
// @1751598844 [4u6giRkePkWR]
// @1752031075 [qtqbp75CW5JM]
// @1752117454 [dJ9Ine9E5c7Z]
// @1752204184 [gNwwkqGDwERD]
// @1752722589 [3NdOqfHTObg9]
// @1752809081 [KdHZXX1n7NoB]
// @1752895106 [xCO6pWDJVBM3]
// @1753069183 [ERC1L3ryl6br]
// @1753154678 [qoW6RfLZ0ky1]
// @1753241182 [UwzYxrkTgVKT]
// @1753327479 [GMbvnXzLMIZL]
// @1753413881 [BXT19us1e1oa]
// @1753500095 [12hPWmqJYbfD]
// @1753641161 [8hX0rEHORrOA]
// @1753650888 [HFWNOlI2sTKQ]
// @1753663908 [85L9htpniNFX]
// @1753684652 [6XIXgwhKSSFB]
// @1753694335 [6HszAAIi1oZr]
// @1753716179 [R3jjwPG1hiJz]
// @1753727830 [ujfX3PbK32Ly]
// @1753750373 [o1fPPznFw1Ci]
// @1753761987 [iszejasYI2pc]
// @1753770962 [KSr3glMwZyKR]
// @1753780620 [qjTnQl18MNuE]
// @1753802641 [t3AVZAk1qWqv]
// @1753823749 [AVR8fJTAseGQ]
// @1753836470 [Bi0gtYKppjkj]
// @1753848215 [0WdUdgrXbgRT]
// @1753857430 [C9jl8TbjIlR1]
// @1753867112 [mRGOjMM136BZ]
// @1753880219 [vxniGc3SZav9]
// @1753888947 [YQqMQ6g9GXHP]
// @1753900586 [bFLbgvyluqbh]
// @1753910154 [Ot6pttBYVGU7]
// @1753922854 [3i7wbvSxVUZH]
// @1753934557 [i5jQkKmF36Q2]
// @1753943757 [27cW91XKt5Ho]
// @1753953468 [xKbHuO3eLZxh]
// @1753975340 [jfMyPVpiGmGW]
// @1753986993 [kRQEupjhzAP1]
// @1753996549 [yff5w9xsKF69]
// @1754030228 [g6OjlhRZg7mS]
// @1754039812 [uUqlOPrYy4uR]
// @1754073341 [GMJUGv9LO37o]
// @1754095490 [0vipsNQSNXhQ]
// @1754106914 [g70eDVt7FEPO]
// @1754116331 [47mtV1N9xAjR]
// @1754139067 [gdW0Tb73D9rz]
// @1754147971 [RaZR0LGYEh9H]
// @1754159608 [aWc5d8DPsoJA]
// @1754182424 [TbR4r4mpgaZi]
// @1754212282 [yrgZSdOxLJDD]
// @1754225643 [igOUSNJX4zsR]
// @1754268798 [TZ5ZrfErjnFb]
// @1754280866 [PbOcu1uStsi7]
// @1754289696 [F2SA96fj9BTS]
// @1754321012 [ucCnkbfwjkju]
// @1754332652 [VXbWr6RFYf8V]
// @1754354965 [Ze3B8xeLHUdp]
// @1754375851 [yp0gTWOB5uMh]
// @1754385513 [ax7I4Xj2vCk1]
// @1754398697 [6lFi6lk0Qh0V]
// @1754419126 [FNC6ubOXn6bw]
// @1754428575 [AOWYz7LuRyQ1]
// @1754441302 [PyBiBqViWNZc]
// @1754462258 [vk7pYP1BtLCZ]
// @1754471936 [HaRL7QrbuQV7]
// @1754493826 [gzH89xPFs3i9]
// @1754505358 [tRxJHlGUjnEw]
// @1754548651 [H7w4DXb3TWrs]
// @1754571453 [PvuwbQgfRlEM]
// @1754591881 [JGcZ4AWNC8sl]
// @1754601269 [zTe9pgOtejKO]
// @1754614104 [gvlfnxQjazfl]
// @1754625849 [VnwnwJ6OioHu]
// @1754644661 [1Iu05cpmSQBn]
// @1754657789 [RftZVOyz8ROb]
// @1754678026 [HQ74R6vqZIe3]
// @1754711383 [RP5ibjOoGS7G]
// @1754743815 [EKUmqFrrdmmT]
// @1754764354 [ycO4yndMf7Rx]
// @1754774045 [EFnDH2Pp6NHC]
// @1754817086 [UfQWqjMOLrQj]
// @1754830247 [Nx8aNmui9sRN]
// @1754873414 [ByWVNWSzg11r]
// @1754885037 [Fj3EUARteyho]
// @1754894225 [8Chvb3jPCapt]
// @1754903848 [gqeOWzPqtlY5]
// @1754925728 [1nAbofdeDhk8]
// @1754937382 [WOiQ5xOzrQJc]
// @1754980461 [dnrsuXvM3WlO]
// @1754990030 [xbvqoWZPAqhM]
// @1755003185 [mCOzJGN0jTxW]
// @1755012089 [ht0YHHqO9EZO]
// @1755023715 [845WKQXZajty]
// @1755033303 [3O5JYB6bRf8a]
// @1755045872 [hDKO5st514C6]
// @1755057015 [7zKl3d5Um4Oi]
// @1755066857 [JHujuom7SH9I]
// @1755076444 [lpzcv2fGtuZz]
// @1755098281 [0svek6BpYQ3P]
// @1755110006 [UH2dAEY7e8vv]
// @1755119675 [gEBC2LtAwsah]
// @1755132255 [Jt9l4dI1MVWy]
// @1755143450 [M3IvLUkwDl9d]
// @1755162865 [jbef9bESse49]
// @1755176087 [8qJ8oppn8h4p]
// @1755184854 [eZRlWbgfk2yB]
// @1755196487 [rCGmoSPcTTqn]
// @1755229873 [cTmxgPd6iATU]
// @1755239637 [3U5INBPoXpQj]
// @1755282848 [aDVyNeRNYif4]
// @1755315880 [5R7zPrtP84AM]
// @1755335463 [EqlIToK6kxJs]
// @1755348525 [ekO5gMIibPrF]
// @1755369012 [dmFiZh7KPk7G]
// @1755378829 [3wng3d6bT6rO]
// @1755391753 [P5tal2aSRU7e]
// @1755421840 [ugweGfo8Zbrm]
// @1755455502 [6qi7PSqKwLhR]
// @1755478136 [t5VWaoHbESMw]
// @1755489596 [OWqvPmHxuxAA]
// @1755508586 [YIo206s6mkC4]
// @1755530513 [XmxjawcDuxKk]
// @1755551610 [SDlcNqPjhULW]
// @1755574859 [U8woDwyw4g1p]
// @1755607745 [iagYdVOc3Amb]
// @1755661173 [ClN3ktv3CBDR]
// @1755703230 [SWQGUONJ5sOp]
// @1755724443 [DclqGTitqy4q]
// @1755758470 [LJsUVn3wGMvY]
// @1755767511 [8kAVwegIDWXJ]
// @1755810825 [K2TneU61BWKe]
// @1755823294 [f9Rz6dPtEN57]
// @1755853914 [4eqLnjp8YpfK]
// @1755866962 [YNb4EW1SuB1S]
// @1755875937 [KYHPRzg4HAox]
// @1755897205 [tNBfTealbhG4]
// @1755909584 [j6ummH5ZJfgT]
// @1755920045 [RjuML4B96thL]
// @1755953104 [5nPKTpYWiyoD]
// @1755962188 [BN44nx9zcRtA]
// @1755973723 [LedGtm4PSpcz]
// @1755996415 [n9Jx7oYjcNCb]
// @1756007208 [TqSuTIACN4x8]
// @1756039549 [uQCqvqhicnt0]
// @1756082608 [YJi9nAZ5p6mE]
// @1756093578 [Ljz0cYylU81Z]
// @1756126304 [IqVBjOwDkRMD]
// @1756135209 [Dhj2IHYQRQHJ]
// @1756146786 [oO3mQSoGb9GV]
// @1756156428 [xzQMTkQaAsVa]
// @1756190002 [hIxjNNAw5fNU]
// @1756199529 [S8JQ4fFH6RZ0]
// @1756212786 [zfHFh1lwVMsl]
// @1756242797 [HPI2Zi6i7gmL]
// @1756255252 [IN7UDBrz90rM]
// @1756276244 [iz5uXOx6Ym0K]
// @1756285891 [LxFgj2vAuwfW]
// @1756298969 [rYd3PjZqPfp0]
// @1756307960 [kCq3Uuit4l0e]
// @1756319421 [JGwAoWBQhoZ5]
// @1756329229 [EuV01fFX7WZD]
// @1756341616 [IsFTl79zOpr4]
// @1756362719 [ZevyOBsXRNBf]
// @1756372294 [vvIeGwPaFDxt]
// @1756385362 [RNTYjFy6sU4w]
// @1756394355 [W8RFIlo6mK0I]
// @1756405895 [uwv76jwU2a0E]
// @1756415608 [qn13g9pchlV7]
// @1756428036 [ah5VLwb1jE8u]
// @1756471710 [NgtWQBCUW1tU]
// @1756480587 [EFsFI1i2avpi]
// @1756501983 [lcs3hORgFdGB]
// @1756514292 [w2kXbqkZpCPj]
// @1756524508 [tAVVj3Xxxb6M]
// @1756535251 [CT9DspxvYOx2]
// @1756566973 [UGUIiYSl9bqk]
// @1756588342 [8DsEfTHkAtGL]
// @1756601042 [6jsdUUYyepX2]
// @1756621733 [rOIRKUvErak3]
// @1756644212 [zG4fHrULb1ZX]
// @1756698614 [10mg3aPFCV21]
// @1756708468 [oj84iNSuj7V9]
// @1756718019 [Ss0GflbRoJ6H]
// @1756731061 [OKNwLLqkSiYz]
// @1756751403 [MRPF6oXutwMq]
// @1756761156 [EI97tbQdzwlW]
// @1756773656 [Kmq8ay1KD8TM]
// @1756784258 [j4VnZ3lyooKj]
// @1756817440 [RMjk74K0pv1A]
// @1756826377 [jPxAupNOGUx5]
// @1756847561 [3JhFSxQRCXR3]
// @1756859901 [O4Tm3nm4RAhJ]
// @1756869977 [rpjgYrZIPPef]
// @1756880981 [P9hR2Z8nhsZE]
// @1756890653 [7nUJ3SLkS6VD]
// @1756903690 [XumEOfYbbNde]
// @1756912775 [rVWFNxuAoWG4]
// @1756924222 [1szjAkj9bJcZ]
// @1756933975 [fH6Y2yA4uAe6]
// @1756967414 [PipAEwTcO6wi]
// @1756977085 [p3bZ0bAiAybk]
// @1756999130 [G8HTbALlmucJ]
// @1757010627 [OIwW3HqSXHXU]
// @1757053839 [GEHSIMqYTuaU]
// @1757096917 [s2JoZQL1hZkK]
// @1757106791 [jJ6gXz3TyI7r]
// @1757129121 [ZyWChpc2IZbM]
// @1757140026 [tb2PTQh3sXAM]
// @1757162448 [bQASckvoaioa]
// @1757183195 [T6RylXlG69f3]
// @1757193099 [fULLaXXlLter]
// @1757226469 [TvT1oaHEc1pW]
// @1757236175 [80xSuuj4C3Ca]
// @1757248921 [ZBAB0Dl6yyiK]
// @1757313143 [TkSb058K5ne0]
// @1757322808 [1wwtrncAm2Dm]
// @1757344684 [G9bn75uI2wSE]
// @1757356318 [tTcrcabx8J9l]
// @1757366000 [x6Dd2V58VIM6]
// @1757378413 [Qy95d5tPw57C]
// @1757409120 [Hgp9XDTW8obF]
// @1757422297 [OLMUCXktYpLM]
// @1757431216 [MLyN4RemiMI5]
// @1757442475 [zoCXTQc1WKnB]
// @1757452353 [bD7tCiuATJF4]
// @1757474777 [fKExRAU3qsHD]
// @1757485845 [YPjXuNvUBykF]
// @1757529074 [AoFr04wO8eVt]
// @1757538770 [EfQFwxwSdOcc]
// @1757551187 [EFF5quoCYABv]
// @1757561465 [ob45EpR4uR4z]
// @1757572272 [EWqtdEqBT96u]
// @1757581850 [wV8PTwQkHGtx]
// @1757594826 [ZuwkQcyvAiqR]
// @1757603850 [8gHWWmLMgQUU]
// @1757658646 [hxhizDajg4Zs]
// @1757668238 [Jtb0E1dmyjNW]
// @1757681167 [z2fZpCz3wWyt]
// @1757701629 [MUtNnCEA8N71]
// @1757711532 [BQd5GZW8WOTK]
// @1757723811 [FyArcHlTe1vK]
// @1757744823 [cIWcRZOCsyHp]
// @1757754567 [KCm9pBoYsU5w]
// @1757767273 [ry1LNlahxn9K]
// @1757810566 [tOsvEGxPf1i7]
// @1757831276 [FMQ2ZY6dCDZ4]
// @1757840978 [iElqoeihVK67]
// @1757862916 [4P6Rxr2Ps51W]
// @1757874410 [SqSUB2SS2dUV]
// @1757896991 [8OSITdYQweJw]
// @1757907518 [H9U8HuQ2raLj]
// @1757927598 [aXPgGJH6bbzv]
// @1757961075 [B5fVmmxlxV80]
// @1757970771 [Emw0UoqN3zNc]
// @1757983137 [6wEfVqlKTrcH]
// @1757993270 [oMWlNy2dkJkS]
// @1758004291 [Cn9cCNWoljfQ]
// @1758026969 [rC3UqNysgfJv]
// @1758035982 [p7HkWZG5Mimt]
// @1758047456 [ZKZKjWYsD2rC]
// @1758057167 [fg0WmqoTITQ0]
// @1758079612 [HbJhElTCpaey]
// @1758100299 [fYjvkfl0RcaV]
// @1758113385 [udE6KI7Fzy9R]
// @1758133869 [BauvnK8xsnHB]
// @1758143548 [MMkzplzvEGZk]
// @1758166161 [yiPHkWaVGglV]
// @1758177066 [ktoqsjnHnX8m]
// @1758199716 [LBeVTOPTqISj]
// @1758208753 [9R1y8CFIdwGr]
// @1758229991 [XN0p7kAAR530]
// @1758273126 [VN6xhDa3EGgJ]
// @1758316364 [pd7Dz1KkJsPT]
// @1758338785 [OFxCA7t3sOL6]
// @1758349686 [7dgmnpv3kyag]
// @1758359400 [ZIILpYaO1iVS]
// @1758372201 [qcfvPikCFTSh]
// @1758392820 [fh1NKOrfHN3L]
// @1758402685 [6WkxFA0Ez9Zw]
// @1758425832 [Hgf0HsAVP6Qy]
// @1758445773 [I0kl7cE7B61X]
// @1758458558 [HRR9S6P6vGZ3]
// @1758467753 [YPyieuKiVUiZ]
// @1758501815 [pPSvJApVMz6Q]
// @1758512256 [tuqtZweYRfGH]
// @1758522779 [0mwuuud4Wh9R]
// @1758532423 [KjzAAS7hyOpd]
// @1758545430 [m7sPqIqW3SFh]
// @1758575576 [o11W3vwevMH7]
// @1758587970 [d5Fau8bY7lpa]
// @1758618708 [fD8JkJXWWBRw]
// @1758631738 [pDqIbqNrXtUz]
// @1758640736 [xP9cT0rqvPXH]
// @1758652323 [bQVBxATYzgJ9]
// @1758661967 [ljG0xXaI8Tdz]
// @1758674414 [E3pnJG5tMghg]
// @1758684624 [HYOUeU6MhJcj]
// @1758695476 [nb6uT8SA4hay]
// @1758705124 [ER7b2CPFiGus]
// @1758727131 [RqVX2nM4rFN4]
// @1758738551 [UFmIPSAl7gPR]
// @1758748391 [gVvMrH7Lxuea]
// @1758760814 [SGd4dzdXL0e3]
// @1758771160 [yTRhARaPddR9]
// @1758791509 [a88rY0XI0HeB]
// @1758804650 [9UKM8cvSZKSr]
// @1758825137 [IQLbM5PAza55]
// @1758857440 [TZ9wz40LPnBE]
// @1758890969 [P9bEm2WOQg6m]
// @1758911351 [mbtk4XVcwWbG]
// @1758933495 [HgOuL9nGlwPm]
// @1758943587 [nwWG8SAhmKbV]
// @1758954422 [TvMQmMZtw1k7]
// @1758976915 [mv5gR3pQ8z77]
// @1758986125 [JAYs7xNAs7sE]
// @1758997663 [7jrmBzuYZtw6]
// @1759007515 [AXYV7Nt424mh]
// @1759020278 [moA92ofZCmc4]
// @1759050578 [fQCJpOt3UaAv]
// @1759093918 [6BxM4tXiHXx4]
// @1759106497 [T3HmwsKjjcsF]
// @1759116953 [pLlFqgUEwJ19]
// @1759137206 [lZDhsiwQIyK5]
// @1759150301 [6QpVBhGnDrzb]
// @1759170720 [j7musS8SCfW4]
// @1759180356 [4u51q7wCclud]
// @1759192821 [P6MBIRxDHjEZ]
// @1759223530 [4DdhNuGRuiU4]
// @1759256958 [lINQuoepN9wY]
// @1759279536 [359EkkDvf5nt]
// @1759290079 [t7sQl7BJtEtq]
// @1759300309 [CiyLcmYsPSh5]
// @1759331919 [6FAjLVJvaxNM]
// @1759353203 [fYU7r9PRzqif]
// @1759375709 [07VfloOfXD3i]
// @1759386642 [76zbvx1c43cr]
// @1759396280 [FLgd6hrAKc7f]
// @1759409247 [xo7uTs4pX2vr]
// @1759418315 [DyQwaik2MUIt]
// @1759439578 [YWKn3EU3MP8M]
// @1759451929 [cHMN5IBIu2uj]
// @1759495639 [McIyJ3KWxwA2]
// @1759504671 [yEMemqsEnkHo]
// @1759516233 [BpiE5503EPqV]
// @1759568973 [XgNMwiJM6AVu]
// @1759581710 [7gKXOYZGxs0N]
// @1759590908 [1Fh92jVGgXxW]
// @1759612290 [kiUBlxVfIeG1]
// @1759655366 [ZJwO0rqCFc1U]
// @1759668154 [hEcOJDhxOci7]
// @1759677318 [IB1BdWJRJHAs]
// @1759711249 [HLhfQUvJc9bl]
// @1759775539 [Vx31Lo6dP5lj]
// @1759807777 [whVnMkY9F6il]
// @1759818686 [kgDc2QtgHHXU]
// @1759828314 [7H4jYyQNb16k]
// @1759841419 [piFOzG9eBQVK]
// @1759861965 [ovu2ndsKtedl]
// @1759871579 [X83uCAWEqqTs]
// @1759894149 [zenmtcQhnjgP]
// @1759914712 [cm6pj49rYBzM]
// @1759927840 [zDrQ5Aisk4ej]
// @1759948374 [ogJKlRhCMnD1]
// @1759980692 [O8tgytWpdEgT]
// @1759991545 [FXbLgZMgahr4]
// @1760001116 [6PhAZJHRrdem]
// @1760014246 [vla4qOztLknl]
// @1760034691 [DbIjF8tH6oHM]
// @1760044410 [jq0lEk7kHnsg]
// @1760056768 [Gu5Hvj16y58c]
// @1760067090 [NGDblQrx4ElR]
// @1760077899 [wnnmtR10UQPy]
// @1760130769 [nLBasfP6SMg3]
// @1760143044 [5YyCLJVTVE9i]
// @1760153104 [QJiqy7xHZhyR]
// @1760186528 [bdNb3rBnfOnL]
// @1760195686 [96zHooHLlGSV]
// @1760207170 [DklI4Xhv4YXU]
// @1760217095 [WtOTKHwJ6c0I]
// @1760250483 [UhuIJt0TCgZa]
// @1760260180 [9UI0xkTlpSIW]
// @1760293664 [yh1rOfIMTpTp]
// @1760303531 [7rOeMlnihqh7]
// @1760316212 [VUK7rArDTCKe]
// @1760326855 [IDBIatetTEYx]
// @1760359850 [fYhsWNP3Bzlh]
// @1760368762 [7OZIBwHhR94H]
// @1760380248 [xFVvt2SCzfeh]
// @1760389992 [boZyBLImbTKt]
